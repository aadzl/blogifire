@{
    Layout = "/Views/Shared/_Layout.cshtml";
    //Layout = "/Blog/Views/Themes/Standard/_Layout.cshtml";
    var post = (BlogiFire.Core.Data.Post)Model.Post;
    var comments = (List<BlogiFire.Core.Data.Comment>)Model.Comments;
}
<article itemprop="blogPost" itemtype="http://schema.org/BlogPosting" itemscope="" data-id="@post.Slug" class="post">
    <header class="jumbotron">
        <h1 itemprop="headline name">
            <a href='@Url.Content("~/blog/post/" + post.Slug)' itemprop="url">@post.Title</a>
        </h1>
        <div>
            <span>By @post.AuthorName on</span>
            <abbr title="@post.Published.ToLocalTime()" itemprop="datePublished">@post.Published.ToLocalTime().ToString("MMMM d. yyyy")</abbr>
            <a href='@Url.Content("~/blog/post/" + post.Slug + "#comments")' class="pull-right">
                <em class="glyphicon glyphicon-comment"></em>
                @post.Comments Comments
            </a>
        </div>
    </header>
    <div itemprop="articleBody">
        @Html.Raw(post.Content)
    </div>
    <form id="commentform" role="form" class="form-horizontal">
        <fieldset>
            <legend>Post comment</legend>
            <div class="form-group row">
                <label for="commentname" class="control-label col-sm-2">Name</label>
                <div class="col-sm-7">
                    <input id="commentname" class="form-control" type="text" placeholder="Name" required />
                </div>
            </div>
            <div class="form-group row">
                <label for="commentemail" class="control-label col-sm-2">Email</label>
                <div class="col-sm-7">
                    <input id="commentemail" class="form-control" type="email" placeholder="Email" required />
                </div>
            </div>
            <div class="form-group row">
                <label for="commentcontent" class="control-label col-sm-2">Comment (no HTML allowed)</label>
                <div class="col-sm-10">
                    <textarea id="commentcontent" class="form-control" rows="4" placeholder="Comment" required></textarea>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-primary" onclick="saveComment(); return false;">Post comment</button>
                    <span id="status" class="alert" role="status" aria-live="polite"></span>
                </div>
            </div>
        </fieldset>
    </form>  
    
    <div class="comments" id="comments">
        @foreach (var item in comments)
        {
        <article data-id="@item.Id" itemscope itemtype="http://schema.org/UserComments" itemprop="comment" class="clearfix panel">
            <img src='http://placehold.it/70x70' class="pull-left">           
            <div>
                By @item.Author at @item.Published.ToString("MMMM d. yyyy HH:mm")   
            </div>
            <p itemprop="commentText">@Html.Raw(item.Content)</p>
        </article>
        }
    </div>
    <div>
        <button onclick="loadComments()">Load comments</button>
    </div>

    <script>
        var apiurl = '@Url.Content("~/blog/comments/add")';
        var postid = '@post.Id';
    </script>
    <script src="~/admin/js/blogifire.js"></script>
</article>
